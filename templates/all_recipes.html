{% extends "base.html" %} {% block content %}



<h3 class="red-text center-align text-shadow"> Your SnixSnax Recipe Box! </h3>
<h5 class="grey-text darken-3  center-align"> Click the recipe name for details, don't forget to favourite the recipes you love!</h5>

   {% if recipes|length > 0 %}
      

   <div class="row">
   {% for recipe in recipes %} 
   <div class="col s12 m3 ">
      <div class="card center-align">

          <!-- image for recipe card  -->
          <div class= "card-image">
            <img class="activator" src="{{recipe.recipe_image}}">
            <a href="#" class="halfway-fab btn-floating pink ">
            <i class="material-icons">fav</i>
            </a>
         </div>
         <!-- recipe description and author -->
         <div class="card-content">
            <span class="card-title activator grey-text text-darken-4"><strong>{{ recipe.recipe_name }}</strong></span>
            <p><strong>{{recipe.recipe_description}}</strong></p>
            <p>
               <em>added by:{{ recipe.added_by}}<br>
               {{recipe.date_added}}</em>
            </p>

         <!-- search query results -->

            {% if session.user|lower == recipe.added_by|lower %}

         <!-- materialize button -->
            <a href="{{url_for('edit_recipe', recipe_id=recipe._id) }}" class="btn grey darken-2">Edit</a>

            <!-- delete button to trigger modal -->
            <button data-target="confirm-modal" class="btn light-blue lighten-1 modal-trigger">Delete</button>
          <div class= "card-reveal">
                      <span class = "card-title"> <strong>{{recipe.recipe_name}}</strong><i class="material-icons right">Close</i></span>
                      <p>{{recipe.recipe_ingredients}}</p>
                      <p>{{recipe.recipe_method}}</p>
                 </div>

            <div id="confirm-modal" class="modal">

            <!-- modal content warns user -->
               <div class="modal-content">
                  <i class="material-icons">warning</i>
                  <p>Are you SURE you want to delete? This cannot be undone!</p>
               </div>
               <div class="modal-footer">
                  <a href="{{url_for('delete_recipe', recipe_id=recipe._id) }}" class="modal-action modal-close waves-effect waves-red btn red lighten-1">Delete</a>
                  <a href="{{url_for('all_recipes')}}" class="modal-action modal-close waves-effect waves-red btn red lighten-1">Cancel</a>
               </div>
            </div>
            {% endif %}

           
                   
             </div>
        </div>
        
     </div>
   {% endfor %} 
</div>

    {% else %}

    <!-- if no results for search query -->
      
<h3 class="red-text center-align text-shadow">Sorry! No Results for Search</h3>
    {% endif %}

{% endblock %}
